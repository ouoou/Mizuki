---
title: Leetcode-hot100å­ä¸²
published: 2025-10-14
updated: 2025-10-14
description: ""
image: ""
tags:
  - hot100
  - å­ä¸²
category: Leetcode
draft: false
---
# Leetcode 560

## é¢˜ç›®ç®€è¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œè¦æ±‚è®¡ç®—ï¼š**è¿ç»­å­æ•°ç»„çš„å’Œç­‰äº `k` çš„ä¸ªæ•°**ã€‚

---

## æ€è·¯åˆ†æ

### å‰ç¼€å’Œ + å“ˆå¸Œè¡¨ï¼ˆO(n)ï¼‰

æ ¸å¿ƒæ€æƒ³ï¼š

* å®šä¹‰ `prefixSum[i]` è¡¨ç¤ºæ•°ç»„å‰ `i` ä¸ªå…ƒç´ çš„å’Œã€‚
* ä»»æ„å­æ•°ç»„å’Œ `nums[i..j] = prefixSum[j] - prefixSum[i-1]`ã€‚
* å¦‚æœæŸä¸€æ®µå‰ç¼€å’Œä¸º `prefixSum[j]`ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾ä¸€æ®µå’Œä¸º `k` çš„å­æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦ï¼š

  ```
  prefixSum[j] - prefixSum[i-1] = k
  â†’ prefixSum[i-1] = prefixSum[j] - k
  ```
* ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä¹‹å‰å‡ºç°è¿‡ `prefixSum[j] - k`ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ä¸€ä¸ªå­æ•°ç»„çš„å’Œä¸º `k`ã€‚


## ä¾‹å­è§£æ
ç”¨ä¸€ä¸ªå…·ä½“ä¾‹å­ `[1, 2, 3]`ï¼Œ`k = 3`ï¼Œç”»ä¸€å¼  **å‰ç¼€å’Œ + å“ˆå¸Œè¡¨å˜åŒ–è¡¨** æ¥ç›´è§‚å±•ç¤ºæ•´ä¸ªè¿‡ç¨‹ã€‚

| i (ç´¢å¼•) | num\[i] | å½“å‰å‰ç¼€å’Œ sum | sum - k | map çŠ¶æ€ (å‰ç¼€å’Œ -> æ¬¡æ•°)   | count |
| ------ | ------- | --------- | ------- | -------------------- | ----- |
| -      | -       | 0         | -       | {0:1}                | 0     |
| 0      | 1       | 1         | -2      | {0:1, 1:1}           | 0     |
| 1      | 2       | 3         | 0       | {0:1, 1:1, 3:1}      | 1     |
| 2      | 3       | 6         | 3       | {0:1, 1:1, 3:1, 6:1} | 2     |

**è§£é‡Šï¼š**

1. åˆå§‹æ—¶ï¼Œmapé‡Œæœ‰ `{0:1}` è¡¨ç¤ºå‰ç¼€å’Œä¸º0å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆä¿è¯ä»æ•°ç»„å¼€å¤´å°±èƒ½å½¢æˆå­æ•°ç»„ï¼‰ã€‚
2. éå†åˆ° `i=0`ï¼Œsum=1ï¼Œmapé‡Œæ²¡æœ‰ `1-3=-2`ï¼Œæ‰€ä»¥ count ä¸å˜ï¼Œæ›´æ–° map ä¸º `{0:1, 1:1}`ã€‚
3. éå†åˆ° `i=1`ï¼Œsum=3ï¼Œmapé‡Œæœ‰ `3-3=0`ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå­æ•°ç»„ `[1,2]` çš„å’Œä¸º3ï¼Œcount+=1ï¼Œæ›´æ–° map ä¸º `{0:1,1:1,3:1}`ã€‚
4. éå†åˆ° `i=2`ï¼Œsum=6ï¼Œmapé‡Œæœ‰ `6-3=3`ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå­æ•°ç»„ `[3]` çš„å’Œä¸º3ï¼Œcount+=1ï¼Œæ›´æ–° map ä¸º `{0:1,1:1,3:1,6:1}`ã€‚

æœ€ç»ˆç»“æœ `count=2`ï¼Œä¸å‰é¢åˆ†æä¸€è‡´ã€‚

---


## å…¬å¼æ¨å¯¼

å‰ç¼€å’Œ + å“ˆå¸Œè¡¨çš„æ ¸å¿ƒå…¬å¼æ˜¯ï¼š

$$
prefix[j] - prefix[i] = k \implies prefix[i] = prefix[j] - k
$$

ä¹Ÿå°±æ˜¯è¯´ï¼š

```java
int target = prefix - k;
```

ç„¶åæ£€æŸ¥ `map.containsKey(target)`ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜æœ‰å­æ•°ç»„å’Œä¸º kã€‚

æ›´æ–° map æ—¶ **ä¸åº”è¯¥æ”¾åœ¨ else**ï¼Œæ¯æ¬¡éƒ½è¦æ›´æ–°å½“å‰å‰ç¼€å’Œçš„æ¬¡æ•°ã€‚

---

## javaè§£æ³•

```java
class Solution {
    public int subarraySum(int[] nums, int k) {
        // prefix[j] - prefix[i] = k
        // prefix[i] = prefix[j] - k
        Map<Integer, Integer> map = new HashMap<>();
        map.put(0, 1);
        int prefix = 0;
        int res = 0;
        for (int i = 0; i < nums.length; i++) {
            prefix += nums[i];
            int target = prefix - k;
            if (map.containsKey(target)) {
                res += map.get(target);
            }
            map.put(prefix, map.getOrDefault(prefix, 0) + 1);
        }
        return res;
    }
}

```


# leetcode 239

## æ€è·¯

æ ¸å¿ƒæ€æƒ³ï¼š
**ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—**ï¼ˆé˜Ÿå¤´æœ€å¤§ï¼Œé˜Ÿå°¾æœ€å°ï¼‰ã€‚
é˜Ÿåˆ—ä¸­ä¿å­˜çš„æ˜¯å…ƒç´ çš„ä¸‹æ ‡ã€‚

---

### ğŸ§  æ ¸å¿ƒé€»è¾‘

æ»‘åŠ¨çª—å£å³ç§»æ—¶æœ‰ä¸¤ä»¶äº‹è¦å¤„ç†ï¼š

#### 1ï¸âƒ£ ä¿æŒé˜Ÿåˆ—å•è°ƒé€’å‡

å½“æ–°å…ƒç´  `nums[i]` è¿›æ¥æ—¶ï¼š

* å¦‚æœé˜Ÿå°¾å…ƒç´ æ¯” `nums[i]` å°ï¼Œå°±æŠŠå®ƒç§»å‡ºé˜Ÿå°¾ï¼›
* å› ä¸ºå®ƒä¸å¯èƒ½å†æˆä¸ºæœªæ¥çª—å£çš„æœ€å¤§å€¼ï¼ˆè¢«æ›´å¤§çš„æŒ¡ä½äº†ï¼‰ã€‚

#### 2ï¸âƒ£ ç§»é™¤çª—å£å¤–çš„å…ƒç´ 

* å¦‚æœé˜Ÿå¤´å…ƒç´ çš„ä¸‹æ ‡å·²ç»æ»‘å‡ºçª—å£ï¼ˆå³ `i - k`ï¼‰ï¼Œå°±æŠŠå®ƒå¼¹å‡ºã€‚

#### 3ï¸âƒ£ å½“å‰çª—å£æœ€å¤§å€¼

* å½“ `i >= k - 1` æ—¶ï¼Œçª—å£å½¢æˆï¼Œé˜Ÿå¤´çš„å…ƒç´ å°±æ˜¯çª—å£æœ€å¤§å€¼ã€‚

---


## javaè§£æ³•

```java
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        Deque<Integer> deque = new ArrayDeque<>();
        int n = nums.length;
        int [] res = new int[n - k + 1];
        int idx = 0;
        for (int i = 0; i < nums.length; i++) {
            while (!deque.isEmpty() && deque.peekFirst() <= i - k) {
                deque.pollFirst();
            }
            while (!deque.isEmpty() && nums[i] > nums[deque.peekLast()]) {
                deque.pollLast();
            }
            deque.offerLast(i);
            if (i >= k - 1) {
                res[idx++] = nums[deque.peekFirst()];
            }
        }
        return res;
    }
}
```