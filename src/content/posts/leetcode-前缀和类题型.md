---
title: Leetcode-å‰ç¼€å’Œç±»é¢˜å‹
published: 2025-09-02
updated: 2025-09-02
description: ""
image: ""
tags:
  - Leetcode
  - å‰ç¼€å’Œ
category: Leetcode
draft: false
---
# Leetcode 525
## é¢˜ç›®å›é¡¾
ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚
## é¢˜æ„ç†è§£

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼ˆåªåŒ…å« 0 å’Œ 1ï¼‰ã€‚

éœ€è¦æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œå…¶ä¸­ 0 å’Œ 1 çš„æ•°é‡ç›¸ç­‰ã€‚

è¿”å›è¿™ä¸ªå­æ•°ç»„çš„é•¿åº¦

---
## è½¬åŒ–æ–¹æ³•

æŠŠæ•°ç»„ä¸­çš„ 0 æ›¿æ¢ä¸º -1ï¼Œä¿ç•™ 1 ä¸º 1ã€‚

è¿™æ ·ï¼Œ0 å’Œ 1 çš„æ•°é‡ç›¸ç­‰ â‡” å­æ•°ç»„çš„å…ƒç´ å’Œä¸º 0ã€‚

ä¾‹å¦‚ï¼š
nums = [0,1,0]
è½¬æ¢åï¼š[-1,1,-1]
å…¶ä¸­å­æ•°ç»„ [1,-1] å’Œä¸º 0ï¼Œè¯´æ˜ 0 å’Œ 1 ä¸ªæ•°ç›¸ç­‰ã€‚

æ±‚å‰ç¼€å’Œï¼š

å¦‚æœä¸¤ä¸ªå‰ç¼€å’Œç›¸åŒï¼Œè¯´æ˜è¿™ä¸¤ç‚¹ä¹‹é—´çš„å­æ•°ç»„å’Œä¸º 0ã€‚
æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ° ç›¸åŒå‰ç¼€å’Œä¹‹é—´çš„æœ€å¤§è·ç¦»ã€‚

---

## å…¬å¼æ¨å¯¼
å¦‚æœæœ‰ä¸¤ä¸ªä½ç½® i å’Œ j (i < j)ï¼Œä¸” `sum[i] == sum[j]`ï¼Œè¯´æ˜ï¼š
```bash
nums[i+1] + nums[i+2] + ... + nums[j] = sum[j] - sum[i] = 0
```
æ¢å¥è¯è¯´ï¼Œè¿™ä¸­é—´çš„**å­æ•°ç»„å’Œä¸º 0ã€‚**



### ä¾‹å­

```
nums = [0,1,1,1,1,1,0,0,0]
```

å…ˆåšè½¬åŒ–ï¼ˆ0 â†’ -1ï¼Œ1 â†’ +1ï¼‰ï¼š

```
[-1, +1, +1, +1, +1, +1, -1, -1, -1]
```

---

#### 1. è®¡ç®—å‰ç¼€å’Œ

ä»ç´¢å¼• `-1` å¼€å§‹ï¼ˆåˆå§‹ sum=0ï¼‰ï¼š

| i  | nums\[i] | è½¬æ¢å€¼ | å‰ç¼€å’Œ sum |
| -- | -------- | --- | ------- |
| -1 | -        | -   | 0       |
| 0  | 0        | -1  | -1      |
| 1  | 1        | +1  | 0       |
| 2  | 1        | +1  | 1       |
| 3  | 1        | +1  | 2       |
| 4  | 1        | +1  | 3       |
| 5  | 1        | +1  | 4       |
| 6  | 0        | -1  | 3       |
| 7  | 0        | -1  | 2       |
| 8  | 0        | -1  | 1       |

---

#### 2. ç”¨æ•°è½´ç›´è§‚è¡¨ç¤ºï¼ˆsum æ›²çº¿ï¼‰

ç”»æˆé«˜åº¦å˜åŒ–ï¼ˆsum æ˜¯çºµè½´ï¼Œi æ˜¯æ¨ªè½´ï¼‰ï¼š

```
i:   -1   0   1   2   3   4   5   6   7   8
sum:  0  -1   0   1   2   3   4   3   2   1
```

---

## 3. ä¸ºä»€ä¹ˆç›¸åŒ sum ä»£è¡¨å’Œä¸º 0 çš„å­æ•°ç»„ï¼Ÿ

æ¯”å¦‚ï¼š

* sum åœ¨ i=2 æ—¶ä¸º 1
* sum åœ¨ i=8 æ—¶ä¹Ÿä¸º 1

ğŸ‘‰ è¯´æ˜åŒºé—´ `(2,8]` çš„å’Œä¸º 0ï¼Œä¹Ÿå°±æ˜¯å­æ•°ç»„ **\[1,1,1,0,0,0]**ã€‚

å†çœ‹ï¼š

* sum åœ¨ i=3 æ—¶ä¸º 2
* sum åœ¨ i=7 æ—¶ä¹Ÿä¸º 2

ğŸ‘‰ åŒºé—´ `(3,7]` å’Œä¸º 0ï¼Œä¹Ÿå°±æ˜¯å­æ•°ç»„ **\[1,1,0,0]**ã€‚

å†çœ‹ï¼š

* sum åœ¨ i=-1 æ—¶ä¸º 0
* sum åœ¨ i=1 æ—¶ä¸º 0

ğŸ‘‰ åŒºé—´ `( -1,1 ]` å’Œä¸º 0ï¼Œä¹Ÿå°±æ˜¯å­æ•°ç»„ **\[0,1]**ã€‚

---

## 4. æ‰¾åˆ°æœ€é•¿å­æ•°ç»„

åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæœ€é•¿çš„æ˜¯ï¼š

* sum=1 åœ¨ i=2 å’Œ i=8 ä¸¤æ¬¡å‡ºç°
* åŒºé—´é•¿åº¦ = 8 - 2 = 6
* å­æ•°ç»„æ˜¯ **\[1,1,1,0,0,0]**

---

âœ… ç›´è§‚è§£é‡Šå°±æ˜¯ï¼š
åœ¨å‰ç¼€å’Œæ›²çº¿ä¸Šï¼Œ**â€œç›¸åŒé«˜åº¦çš„ä¸¤ä¸ªç‚¹ä¹‹é—´â€** çš„åŒºé—´ï¼Œè¡¨ç¤ºè¿™æ®µå­æ•°ç»„çš„å’Œä¸º 0 â‡’ 0 å’Œ 1 ä¸ªæ•°ç›¸ç­‰ã€‚

---
![img.png](guide/leetcode525.png)

## javaè§£æ³•
```java
class Solution {
    public int findMaxLength(int[] nums) {
        //  [0,1,0]
        // 0 -1 0 -1
        Map<Integer, Integer> map = new HashMap<>();
        map.put(0, -1);
        int max = 0;
        int sum = 0;
        for (int i = 0; i < nums.length; i++) {
            sum += nums[i] == 1 ? 1 : -1;
            if (map.containsKey(sum)) {
                max = Math.max(max, i - map.get(sum));
            } else {
                map.put(sum, i);
            }
        }
        return max;
    }
}
```

# Leetcode 523


---

## é¢˜ç›®å›é¡¾

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ã€‚
è¯·åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ä¸ª **é•¿åº¦è‡³å°‘ä¸º 2** çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—è¯¥å­æ•°ç»„çš„å’Œæ˜¯ `k` çš„å€æ•°ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼š
æ‰¾åˆ° `sum(nums[i..j]) % k == 0`ï¼Œå¹¶ä¸” `j - i >= 1`ã€‚

---

## æ€è·¯è§£æ

### **å‰ç¼€å’Œ + å–æ¨¡ä¼˜åŒ–**

è®¾å‰ç¼€å’Œä¸ºï¼š

```
prefix[i] = nums[0] + nums[1] + ... + nums[i]
```

å¦‚æœå­˜åœ¨ä¸¤ä¸ªä¸‹æ ‡ `i < j`ï¼Œæ»¡è¶³ï¼š

```
(prefix[j] - prefix[i]) % k == 0
```

ç­‰ä»·äºï¼š

```
prefix[j] % k == prefix[i] % k
```

**å…³é”® insightï¼š**

* å¦‚æœä¸¤ä¸ªå‰ç¼€å’Œé™¤ä»¥ `k` çš„ä½™æ•°ç›¸åŒï¼Œåˆ™å®ƒä»¬ä¹‹é—´çš„å­æ•°ç»„å’Œå°±æ˜¯ `k` çš„å€æ•°ã€‚

---

## å…¬å¼æ¨å¯¼

å¦‚æœæœ‰ä¸¤ä¸ªå‰ç¼€å’Œï¼š

```
prefix[j] å’Œ prefix[i]   (i < j)
```

å¹¶ä¸”æ»¡è¶³ï¼š

```
prefix[j] % k == prefix[i] % k
```

é‚£ä¹ˆä¸€å®šæœ‰ï¼š

```
(prefix[j] - prefix[i]) % k == 0
```

ä¹Ÿå°±æ˜¯ `nums[i+1..j]` çš„å’Œæ˜¯ `k` çš„å€æ•°ã€‚

---

### ä¸¾ä¸ªä¾‹å­

å‡è®¾æ•°ç»„ï¼š

```
nums = [23, 2, 4, 6, 7], k = 6
```

#### æ­¥éª¤ 1ï¼šè®¡ç®—å‰ç¼€å’Œ

```
prefix[0] = 23
prefix[1] = 23 + 2 = 25
prefix[2] = 25 + 4 = 29
prefix[3] = 29 + 6 = 35
prefix[4] = 35 + 7 = 42
```

#### æ­¥éª¤ 2ï¼šå–æ¨¡

```
prefix[0] % 6 = 23 % 6 = 5
prefix[1] % 6 = 25 % 6 = 1
prefix[2] % 6 = 29 % 6 = 5
prefix[3] % 6 = 35 % 6 = 5
prefix[4] % 6 = 42 % 6 = 0
```

#### æ­¥éª¤ 3ï¼šæ‰¾ç›¸åŒä½™æ•°

* `prefix[0] % 6 = 5`
* `prefix[2] % 6 = 5`

è¯´æ˜ `prefix[2] - prefix[0]` æ˜¯ 6 çš„å€æ•°ï¼š

```
29 - 23 = 6
```

è€Œè¿™æ­£å¥½å¯¹åº”å­æ•°ç»„ `[2, 4]`ï¼Œå®ƒçš„å’Œæ˜¯ 6ï¼Œç¡®å®æ˜¯ 6 çš„å€æ•°ã€‚

å†çœ‹ï¼š

* `prefix[3] % 6 = 5`
* `prefix[0] % 6 = 5`

```
35 - 23 = 12
```

å¯¹åº”å­æ•°ç»„ `[2, 4, 6]`ï¼Œå’Œä¸º 12ï¼Œä¹Ÿæ˜¯ 6 çš„å€æ•°ã€‚

---

### ä¸ºä»€ä¹ˆæˆç«‹ï¼ˆæ•°å­¦è§£é‡Šï¼‰

1. å‡è®¾

   ```
   prefix[j] % k = r
   prefix[i] % k = r
   ```

   ï¼ˆå®ƒä»¬ä½™æ•°ç›¸åŒï¼Œéƒ½æ˜¯ `r`ï¼‰

2. æ ¹æ®æ¨¡çš„å®šä¹‰

   ```
   prefix[j] = a * k + r
   prefix[i] = b * k + r
   ```

   ï¼ˆaã€b æ˜¯æ•´æ•°ï¼‰

3. ä¸¤è€…ç›¸å‡ï¼š

   ```
   prefix[j] - prefix[i] = (a - b) * k
   ```

   ä¸€å®šæ˜¯ k çš„å€æ•° âœ…

---

## javaè§£æ³•

```java
class Solution {
    public boolean checkSubarraySum(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<>();
        map.put(0,-1);

        int prefix = 0;
        for (int i = 0; i < nums.length; i++) {
            prefix += nums[i];
            int mod = prefix % k;
            if (map.containsKey(mod)) {
                if (i - map.get(mod) >= 2) {
                    return true;
                }
            } else {
                map.put(mod, i);
            }
        }
        return false;
    }
}
```

# Leetcode 560

## é¢˜ç›®ç®€è¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œè¦æ±‚è®¡ç®—ï¼š**è¿ç»­å­æ•°ç»„çš„å’Œç­‰äº `k` çš„ä¸ªæ•°**ã€‚

---

## æ€è·¯åˆ†æ

### å‰ç¼€å’Œ + å“ˆå¸Œè¡¨ï¼ˆO(n)ï¼‰

æ ¸å¿ƒæ€æƒ³ï¼š

* å®šä¹‰ `prefixSum[i]` è¡¨ç¤ºæ•°ç»„å‰ `i` ä¸ªå…ƒç´ çš„å’Œã€‚
* ä»»æ„å­æ•°ç»„å’Œ `nums[i..j] = prefixSum[j] - prefixSum[i-1]`ã€‚
* å¦‚æœæŸä¸€æ®µå‰ç¼€å’Œä¸º `prefixSum[j]`ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾ä¸€æ®µå’Œä¸º `k` çš„å­æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦ï¼š

  ```
  prefixSum[j] - prefixSum[i-1] = k
  â†’ prefixSum[i-1] = prefixSum[j] - k
  ```
* ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä¹‹å‰å‡ºç°è¿‡ `prefixSum[j] - k`ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ä¸€ä¸ªå­æ•°ç»„çš„å’Œä¸º `k`ã€‚


## ä¾‹å­è§£æ
ç”¨ä¸€ä¸ªå…·ä½“ä¾‹å­ `[1, 2, 3]`ï¼Œ`k = 3`ï¼Œç”»ä¸€å¼  **å‰ç¼€å’Œ + å“ˆå¸Œè¡¨å˜åŒ–è¡¨** æ¥ç›´è§‚å±•ç¤ºæ•´ä¸ªè¿‡ç¨‹ã€‚

| i (ç´¢å¼•) | num\[i] | å½“å‰å‰ç¼€å’Œ sum | sum - k | map çŠ¶æ€ (å‰ç¼€å’Œ -> æ¬¡æ•°)   | count |
| ------ | ------- | --------- | ------- | -------------------- | ----- |
| -      | -       | 0         | -       | {0:1}                | 0     |
| 0      | 1       | 1         | -2      | {0:1, 1:1}           | 0     |
| 1      | 2       | 3         | 0       | {0:1, 1:1, 3:1}      | 1     |
| 2      | 3       | 6         | 3       | {0:1, 1:1, 3:1, 6:1} | 2     |

**è§£é‡Šï¼š**

1. åˆå§‹æ—¶ï¼Œmapé‡Œæœ‰ `{0:1}` è¡¨ç¤ºå‰ç¼€å’Œä¸º0å‡ºç°è¿‡ä¸€æ¬¡ï¼ˆä¿è¯ä»æ•°ç»„å¼€å¤´å°±èƒ½å½¢æˆå­æ•°ç»„ï¼‰ã€‚
2. éå†åˆ° `i=0`ï¼Œsum=1ï¼Œmapé‡Œæ²¡æœ‰ `1-3=-2`ï¼Œæ‰€ä»¥ count ä¸å˜ï¼Œæ›´æ–° map ä¸º `{0:1, 1:1}`ã€‚
3. éå†åˆ° `i=1`ï¼Œsum=3ï¼Œmapé‡Œæœ‰ `3-3=0`ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå­æ•°ç»„ `[1,2]` çš„å’Œä¸º3ï¼Œcount+=1ï¼Œæ›´æ–° map ä¸º `{0:1,1:1,3:1}`ã€‚
4. éå†åˆ° `i=2`ï¼Œsum=6ï¼Œmapé‡Œæœ‰ `6-3=3`ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå­æ•°ç»„ `[3]` çš„å’Œä¸º3ï¼Œcount+=1ï¼Œæ›´æ–° map ä¸º `{0:1,1:1,3:1,6:1}`ã€‚

æœ€ç»ˆç»“æœ `count=2`ï¼Œä¸å‰é¢åˆ†æä¸€è‡´ã€‚

---


## å…¬å¼æ¨å¯¼

å‰ç¼€å’Œ + å“ˆå¸Œè¡¨çš„æ ¸å¿ƒå…¬å¼æ˜¯ï¼š

$$
prefix[j] - prefix[i] = k \implies prefix[i] = prefix[j] - k
$$

ä¹Ÿå°±æ˜¯è¯´ï¼š

```java
int target = prefix - k;
```

ç„¶åæ£€æŸ¥ `map.containsKey(target)`ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜æœ‰å­æ•°ç»„å’Œä¸º kã€‚

æ›´æ–° map æ—¶ **ä¸åº”è¯¥æ”¾åœ¨ else**ï¼Œæ¯æ¬¡éƒ½è¦æ›´æ–°å½“å‰å‰ç¼€å’Œçš„æ¬¡æ•°ã€‚

---

## javaè§£æ³•

```java
class Solution {
    public int subarraySum(int[] nums, int k) {
        // prefix[j] - prefix[i] = k
        // prefix[i] = prefix[j] - k
        Map<Integer, Integer> map = new HashMap<>();
        map.put(0, 1);
        int prefix = 0;
        int res = 0;
        for (int i = 0; i < nums.length; i++) {
            prefix += nums[i];
            int target = prefix - k;
            if (map.containsKey(target)) {
                res += map.get(target);
            }
            map.put(prefix, map.getOrDefault(prefix, 0) + 1);
        }
        return res;
    }
}

```